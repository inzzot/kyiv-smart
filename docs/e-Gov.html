<html>
<head>
  <title>Evernote Export</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/274870; Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2558"/>
<h1>Rest for activiti</h1>

<div>
<span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div>Rest for activiti </div><div><a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fgithub.com%2FActiviti%2FActiviti%2Ftree%2Fmaster%2Fmodules%2Factiviti-webapp-rest2" shape="rect" target="_blank">https://github.com/Activiti/Activiti/tree/master/modules/activiti-webapp-rest2</a></div><div><br clear="none"/></div><div>Manual tests for rest:</div><div>use soapUI </div><div><a href="http://sourceforge.net/projects/soapui/?source=typ_redirect" shape="rect">http://sourceforge.net/projects/soapui/?source=typ_redirect</a></div><div><br clear="none"/></div><div><br/></div><div>org.activiti.rest.controller.ActivitiRestApiController </div><div>- Контроллер, в котором можно реализовывать нужные нам запросы, которых нет в  стандартном activiti-rest</div><div><br/></div><div>Доступные стандартные сервисы описаны в документации:</div><div><a href="http://www.activiti.org/userguide/#_rest_api">http://www.activiti.org/userguide/#_rest_api</a></div><div><br/></div><div><br/></div><div>Пример вызова custom сервиса:</div><div><ul><li>запуск бизнесс процесса по ключу: <br/>
/wf/service/startProcessByKey/citizensRequest  </li></ul><div>Пример вызова стандартного апи:</div></div><div><ul><li>получить список активных процессов:<br/>
/wf/service/runtime/process-instances</li></ul></div><div><br/></div></span>
</div>
<hr>
<a name="2559"/>
<h1>Spring Profiles</h1>

<div>
<span><div>В Spring есть собственный механизм профайлов.<br clear="none"/> Выбор активного пофайла влияет на DI-контейнер во время выполнения. <br clear="none"/> Активными могут быть несколько профайлов одновременно. <br clear="none"/> Для задания текущего активного пофайла  необходимо установить в<br clear="none"/> системном файле  -Dspring.profiles.active= &quot;test&quot; (имя пофайла &lt;beans profile=&quot;test&quot;&gt;)<br clear="none"/> Этот пофайл будет инициализироваться при старте , если указать в переменной его имя.</div><div><br clear="none"/></div><div>Для Tomcat Это файл <span>setenv</span><span>.bat</span> свойство устанавливаем в </div><div><span>CATALINA_OPTS</span> =<span>-Dspring.profiles.active= &quot;test</span><span>&quot;</span></div><div><br clear="none"/></div><div>В нашем проекте файл ../resources:</div><div>activiti-custom-context.xml (<span>&lt;beans profile=&quot;test&quot;&gt; и  &lt;beans profile=&quot;prod&quot;&gt;</span>)</div><div><br clear="none"/><span>имя пофайла &lt;beans profile=&quot;prod&quot;&gt;</span></div><div>Для боевого запуска и для его инициализации необходима установить в setenv<span>.bat </span></div><div>set &quot;CATALINA_OPTS=-Dspring.profiles.active=&quot;<span>prod</span>&quot;&quot;</div><div>подтягивает боевые настройки, указанные в файлах .properties, которые подкладываем в папку conf на сервере tomcat</div><div><br clear="none"/><span>имя пофайла &lt;beans profile=&quot;test&quot;&gt;</span></div><div><div>Для тестового запуска и для его инициализации необходима установить в <span>setenv</span><span>.bat</span></div><div><span>set &quot;CATALINA_OPTS=-Dspring.profiles.active=&quot;test&quot;&quot;</span></div><div><br clear="none"/></div><div><span>подтягивает тестовые настройки, указанные в файлах .properties, которые находятся в classpath</span></div></div></span>
</div>
<hr>
<a name="2605"/>
<h1>Project structure (need discussion)</h1>

<div>
<span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><strong>Начальная структура репозитория:</strong></div><div>1. Модули для аквтити</div><div>2. Другие части, проекта, например веб-порталы для различных государственных</div><div>институтов и учереждений</div><div>3. Документация</div><div><br clear="none"/></div><div><strong>Начальная структура проекта с activiti, который содержит бизнес-процесы:</strong></div><div>1. Отдельно engine activiti</div><div>2. Отдельно explorer ??</div><div>3. <span>Отдельно rest ??</span></div><div><span>4. Отдельно каждый бизнес-процесс</span></div><div><span><br/></span></div><div><b><font color="#BA00FF">Предложение (стартап этап)</font></b></div><div><b><font color="#BA00FF">    e-government-ua</font></b></div><div><b><font color="#BA00FF">             1. Репозиторий - гос орган </font></b></div><div><b><font color="#BA00FF">                    activiti + explorer + rest + процессы всё в одном проекте </font></b><b><font color="#BA00FF">  для старта</font></b></div><div><b><font color="#BA00FF">             Например</font></b></div><div><b><font color="#BA00FF">                  dniprorada - горсовет</font></b></div><div><b><font color="#BA00FF">                           wf-region - активити процессы горсовета</font></b></div><div><b><font color="#BA00FF">                           docs - документация </font></b></div><div><b><font color="#BA00FF">                           etc.  - ...</font></b></div><div><b><font color="#BA00FF">                  </font></b><b><font color="#BA00FF">dnipropolice - мвд</font></b></div><div><b><font color="#BA00FF">                           </font></b><b><font color="#BA00FF">wf-</font></b><b><font color="#BA00FF">dnipropolice</font></b><b><font color="#BA00FF"> - активити процессы мвд</font></b></div><div><b><font color="#BA00FF">                           docs - документация </font></b></div><div><b><font color="#BA00FF">                           etc.  - ...</font></b><b><font color="#BA00FF"> </font></b></div><div><b><font color="#BA00FF">                  и так далее</font></b></div><div><b><font color="#BA00FF">               </font></b></div><div><b><font color="#BA00FF">             2. Репозиторий - агрегатор процессов (точка входа)           </font></b></div><div><b><font color="#BA00FF"><br/></font></b></div><div><b><font color="#BA00FF">Репозитории-агрегаторы могут вызывать разные процессы разных госорганов,</font></b></div><div><b><font color="#BA00FF">могут быть несколько в зависимости от канала и технологий.</font></b></div><div><b><font color="#BA00FF"><br/></font></b></div><div><b><font color="#BA00FF"> </font></b></div><div><b><font color="#5DDAFF">Еще нужен статический сайт-визитка</font></b></div><div><b><font color="#BA00FF"><br/></font></b></div></span>
</div>
<hr>
<a name="2609"/>
<h1>Роли в проекте</h1>

<div>
<span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div>Пока стартовые</div><div><br/></div>
1. Бизнес-аналитик
<div>2. Разработчик</div><div>3. Тестировщик<br/>
4. DevOps</div><div>5. Дизайнер</div></span>
</div>
<hr>
<a name="2611"/>
<h1>Test Urls</h1>

<div>
<span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><a href="http://egov-dnipro.rhcloud.com/wf-region">http://egov-dnipro.rhcloud.com/wf-region</a><div><br/></div><div><a href="http://ec2-52-10-207-186.us-west-2.compute.amazonaws.com:8080/wf/">http://ec2-52-10-207-186.us-west-2.compute.amazonaws.com:8080/wf/</a></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>--активити<br/>
https://wf.dniprorada.egov.dp.ua:8080/wf/<br/><br/>
--портал<br/>
https://dniprorada.egov.dp.ua<br/><br/><br/></div><div><br/></div><div><br/></div></span>
</div>
<hr>
<a name="2638"/>
<h1>Portal Development</h1>

<div>
<span><div><strong>How to set up development:</strong></div><div>--pre installations:</div><div>install <a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fnodejs.org%2F" shape="rect" target="_blank">https://nodejs.org/</a>:</div><div>1. перейти по ссылке <a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fnodejs.org%2F" shape="rect" target="_blank">https://nodejs.org/</a> </div><div>2. скачать в любую директорию и установить</div><div><br clear="none"/></div><div><br clear="none"/></div><div>--proxy_configs:</div><div>1. Открыть cmd:</div><div>- п<span>роверить установлен ли git:</span></div><div><span>ввести команду git --version</span><br clear="none"/></div><div>если не установлен скачать и установить по ссылке:</div><div>http://git-scm.com/download/win</div><div><span><br clear="none"/></span></div><div>2. (Если необходимо) Установить <span>proxy следующими командами:</span></div><div>npm config set http-proxy http://user_name:password@proxy.pbank.com.ua:8080<br clear="none"/></div><div>npm config set https-proxy <a href="http://user_name:password@proxy.pbank.com.ua:8080/" shape="rect" target="_blank">http://user_name:password@proxy.pbank.com.ua:8080</a><br clear="none"/></div><div><div>git config --global  http.proxy http://user_name:password@proxy.pbank.com.ua:8080</div>git config --global  https.proxy <a href="http://user_name:password@proxy.pbank.com.ua:8080/" shape="rect" target="_blank">http://user_name:password@proxy.pbank.com.ua:8080</a></div><div>где:</div><div>user_name - логин</div><div>password - пароль</div><div><br clear="none"/></div><div>3. Далее вводим команды:</div><div>npm install -g yo bower grunt-cli gulp</div><div>npm install -g bower</div><div><br clear="none"/></div><div>4. checkout and run the code:</div><div>- Выкачиваем проект: git clone <a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fgithub.com%2Fe-government-ua%2Fdniprorada.git" shape="rect" target="_blank">https://github.com/e-government-ua/dniprorada.git</a><br clear="none"/></div><div>- переходим в директорию cd <a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fgithub.com%2Fe-government-ua%2Fdniprorada%2Ftree%2Fmaster%2Fportal-dniprorada" shape="rect" target="_blank" title="portal-dniprorada">portal-dniprorada</a></div><div>- устанавливаем bower proxy (ссылка для подробного описания http://bower.io/docs/config/#proxy):</div><div>    - находим файл .bowerrc и добавляем две строки:</div><div> &quot;proxy&quot;:&quot;http://user_name:password@proxy.pbank.com.ua:8080&quot;,</div><div> &quot;https-proxy&quot;:&quot;http://user_name:password@proxy.pbank.com.ua:8080&quot;</div><div>     - в этой же директории открываем cmd (ctrl+o) и вводим  команды:</div><div>npm install</div><div>bower install</div><div>    </div><div>5. configurations in dev mode:</div><div>    -перейти в директорию <span>cd </span><a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fgithub.com%2Fe-government-ua%2Fdniprorada%2Ftree%2Fmaster%2Fportal-dniprorada" shape="rect" target="_blank" title="portal-dniprorada">portal-dniprorada</a>/server/config</div><div>    - переименовать файл <span>local.env.sample.js в local.env.js</span></div><div>    - открыть файл и поменять настройки в зависимости от ваших локальных настроек, например:</div><div>ACTIVITI_PORT: 9090 or 8080 (порт в зависимости от того где поднят tomcat)<br clear="none"/> ACTIVITI_REST: 'wf-region/service',</div><div>#!!!!!!!  <span>local.env.js is in gitignore, DO NOT ADD it repo</span><br clear="none"/></div><div><span><br clear="none"/></span></div><div><span>6. Запустить tomcat или команду maven</span></div><div><span>7. </span>по завершению <span>перейти в директорию </span><a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fgithub.com%2Fe-government-ua%2Fdniprorada%2Ftree%2Fmaster%2Fportal-dniprorada" shape="rect" target="_blank" title="portal-dniprorada">portal-dniprorada</a> , ввести команду:<div>grunt serve (ctrl+c to stop)</div><div><br clear="none"/></div><div>Портал ЗАПУЩЕН!!!</div><div><br clear="none"/></div><div><strong>How to build project:</strong></div><div><span>git clone </span><a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fgithub.com%2Fe-government-ua%2Fdniprorada.git" shape="rect" target="_blank">https://github.com/e-government-ua/dniprorada.git</a></div><div><span>cd </span><a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fgithub.com%2Fe-government-ua%2Fdniprorada%2Ftree%2Fmaster%2Fportal-dniprorada" shape="rect" target="_blank" title="portal-dniprorada">portal-dniprorada</a></div><div>grunt build</div><div>--создается папка dist</div></div></span>
</div>
<hr>
<a name="2650"/>
<h1>BankID -test</h1>

<div>
<span style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
1. https://bankid.privatbank.ua/DataAccessService/das/authorize?response_type=code&amp;client_id=p48app&amp;redirect_uri=https://bankid.privatbank.ua/DataAccessService/acceptCode<br/>
где client_id - id приложения, предварительно зарегенного. 
<div>redirect_uri - это  урл, на который редиректим клиента после аунтетификации. Через него же мы и передадим код авторизации. 
<div><br/></div><div>https://vash/url/dlia/redirecta?code=9ma7kO<br/>
  </div><div>2. GET запрос на получение аксеесс токена. В запросе  передаете код авторизации, свой id, свой secret(пароль, предварительно полученный в п.1) и опять таки тот-же свой урл для редиректа<br/><br/>
https://bankid.privatbank.ua/DataAccessService/oauth/token?grant_type=authorization_code&amp;client_id=p48app&amp;client_secret=p48app&amp;code=tlzBjZ&amp;redirect_uri=https://bankid.privatbank.ua/DataAccessService/acceptCode<br/><br/>
В ответ получете аксесс и рефреш токен в таком формате<br/>
{&quot;access_token&quot;:&quot;caef896e-3d84-4c16-8a2b-f4f2264db6b1&quot;,&quot;token_type&quot;:&quot;bearer&quot;,&quot;refresh_token&quot;:&quot;5fd85cd8-2e71-4921-b102-eecfb0024e1a&quot;,&quot;expires_in&quot;:179,&quot;scope&quot;:&quot;read trust write&quot;}<br/><br/>
После чего можно выполнять запрос непосредственно на получение данных<br/><a href="https://bankid.privatbank.ua/DataAccessService/checked/fio?access_token=caef896e-3d84-4c16-8a2b-f4f2264db6b1">https://bankid.privatbank.ua/DataAccessService/checked/fio?access_token=caef896e-3d84-4c16-8a2b-f4f2264db6b1</a><div><br/></div><div><br/></div><div>Сейчас <br/>
аксесс токен - 3мин,<br/>
рефреш - по которому можно получить свежий аксесс - 5 мин<br/><div><br/></div><div><br/></div></div></div></div></span>
</div>
<hr>
<a name="2652"/>
<h1>Tomcat Web Application Manager</h1>

<div>
<span><div><div>Использовать maven и встроенный tomcat,а именно команду:</div><div><a href="http://tomcat.apache.org/maven-plugin-2.0/tomcat7-maven-plugin/plugin-info.html" shape="rect">http://tomcat.apache.org/maven-plugin-2.0/tomcat7-maven-plugin/plugin-info.html</a></div><div><br clear="none"/></div><div>команда <a href="http://tomcat.apache.org/maven-plugin-2.0/tomcat7-maven-plugin/run-mojo.html" shape="rect">tomcat7:run</a></div><div><br clear="none"/></div><div><strong>ИЛИ</strong></div></div><div><br clear="none"/></div><div>Для быстрого старта <strong>wf-region</strong> можно использовать <strong>Tomcat Web Application Manager</strong>:</div><div>1. После установки tomcat :</div><div><span>     - проверить в  каталоге <strong>webapps/</strong> должны быть проекты: host-manager, manager.</span></div><div>     - <span>в  каталоге<strong> ..</strong></span><strong>/conf</strong> в файле <strong>tomcat-users.xml</strong> раскомментарить role и user и добавить             роль manager-gui:</div><div>  &lt;user username=&quot;tomcat&quot; password=&quot;tomcat&quot; roles=&quot;tomcat,manager-gui&quot;/&gt;</div><div><br clear="none"/></div><div><strong>P.S. </strong>Если нет проектов <span>host-manager, manager, то скачать и подложить в нужную директорию.</span></div><div><span><br clear="none"/></span></div><div>2. После локального запуска <span>Tomcat (bin/sartup.bat)</span> перейти по ссылке:</div><div><a href="http://localhost:8080/manager/html/" shape="rect" target="_blank">http://localhost:8080/manager/html/</a></div><div><br clear="none"/></div><div>3. Откроется окно, в нем нужно задеплоить  <span>wf-region.war:</span><br clear="none"/></div><div><span>    - в разделе <strong>WAR file to deploy</strong> выбираем war-ик (директория: ..//target/wf-region.war) и нажимаем <strong>Deploy</strong></span></div><div><span>    - в окне <strong>Applications</strong> добавится диретория <a href="http://localhost:8080/wf/" shape="rect" target="_blank">/wf-region</a> переходим по ней и мы в активити</span></div><div>==========================================================================</div><div><br clear="none"/></div><div><strong>Ссылка для дополнительной информации:</strong><br clear="none"/></div><div><a href="http://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html" shape="rect" target="_blank">http://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html</a></div><div><br clear="none"/></div><div><strong>P.S.</strong>  в версии apache-tomcat-7.0.59-windows-x64 уже встроенный manager</div><div><br clear="none"/></div><div><br clear="none"/></div><div><span>    </span></div></span>
</div>
<hr>
<a name="2675"/>
<h1>Portal Deploy</h1>

<div>
<span><div><strong>How to build project:</strong></div><div>git clone <a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fgithub.com%2Fe-government-ua%2Fdniprorada.git" shape="rect" target="_blank">https://github.com/e-government-ua/dniprorada.git</a><br clear="none"/></div><div>cd <a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fgithub.com%2Fe-government-ua%2Fdniprorada%2Ftree%2Fmaster%2Fportal-dniprorada" shape="rect" target="_blank" title="portal-dniprorada">portal-dniprorada</a><br clear="none"/></div><div>grunt build</div><div>--создается папка dist</div><div><br clear="none"/></div><div>--на web-сервере устанавливаем</div><div><a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fwww.digitalocean.com%2Fcommunity%2Ftutorials%2Fhow-to-use-pm2-to-setup-a-node-js-production-environment-on-an-ubuntu-vps" shape="rect" target="_blank">https://www.digitalocean.com/community/tutorials/how-to-use-pm2-to-setup-a-node-js-production-en</a><div><strong>How to build project:</strong></div><div>git clone <a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fgithub.com%2Fe-government-ua%2Fdniprorada.git" shape="rect" target="_blank">https://github.com/e-government-ua/dniprorada.git</a><br clear="none"/></div><div>cd <a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fgithub.com%2Fe-government-ua%2Fdniprorada%2Ftree%2Fmaster%2Fportal-dniprorada" shape="rect" target="_blank" title="portal-dniprorada">portal-dniprorada</a><br clear="none"/></div><div>grunt build</div><div>--создается папка dist</div><div><br clear="none"/></div><div>--на web-сервере устанавливаем</div><div><a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fwww.digitalocean.com%2Fcommunity%2Ftutorials%2Fhow-to-use-pm2-to-setup-a-node-js-production-environment-on-an-ubuntu-vps" shape="rect" target="_blank">https://www.digitalocean.com/community/tutorials/how-to-use-pm2-to-setup-a-node-js-production-environment-on-an-ubuntu-vps</a><br clear="none"/></div><div>(команды <a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fgithub.com%2FUnitech%2FPM2%2Fblob%2Fmaster%2FADVANCED_README.md" shape="rect" target="_blank">https://github.com/Unitech/PM2/blob/master/ADVANCED_README.md</a> )</div><div><br clear="none"/></div><div>--на ci-сервере непрерывной интеграции (jenkins, service codeship etc.)<br clear="none"/></div><div>генерируем ssh ключ</div><div>прописываем на <span>web-сервере</span></div><div><br clear="none"/></div><div>-- копируем папку dist на сервер и запускаем приложение с помощью pm2</div><div>--команды под линукс</div><div><pre xml:space="preserve">USER_HOST=[username]@[host-address]
</pre><pre xml:space="preserve">DATE=`date +%m.%d.%Y.%H-%M` <br clear="none"/><a name="cl-4" shape="rect" target="_blank"></a>DIST='~/web/portal-dniprorada-'$DATE <br clear="none"/><a name="cl-5" shape="rect" target="_blank"></a>rsync -avz -e &quot;ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null&quot; --progress dist/ $USER_HOST:$DIST 
</pre><pre xml:space="preserve"><a name="cl-7" shape="rect" target="_blank"></a>SSH_COMMAND='pm2 stop portal-dniprorada; pm2 delete portal-dniprorada; cd '$DIST'; npm install; pm2 start process.json; pm2 info portal-dniprorada'</pre><pre xml:space="preserve"><a name="cl-8" shape="rect" target="_blank"></a>ssh $USER_HOST $SSH_COMMAND
</pre></div><a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fwww.digitalocean.com%2Fcommunity%2Ftutorials%2Fhow-to-use-pm2-to-setup-a-node-js-production-environment-on-an-ubuntu-vps" shape="rect" target="_blank">vironment-on-an-ubuntu-vps</a><br clear="none"/></div><div>(команды <a href="https://www.evernote.com/OutboundRedirect.action?dest=https%3A%2F%2Fgithub.com%2FUnitech%2FPM2%2Fblob%2Fmaster%2FADVANCED_README.md" shape="rect" target="_blank">https://github.com/Unitech/PM2/blob/master/ADVANCED_README.md</a> )</div><div><br clear="none"/></div><div>--на ci-сервере непрерывной интеграции (jenkins, service codeship etc.)<br clear="none"/></div><div>генерируем ssh ключ</div><div>прописываем на <span>web-сервере</span></div><div><br clear="none"/></div><div>-- копируем папку dist на сервер и запускаем приложение с помощью pm2</div><div>--команды под линукс</div><div><pre xml:space="preserve">USER_HOST=[username]@[host-address]
</pre><pre xml:space="preserve">DATE=`date +%m.%d.%Y.%H-%M` <br clear="none"/><a name="cl-4" shape="rect" target="_blank"></a>DIST='~/web/portal-dniprorada-'$DATE <br clear="none"/><a name="cl-5" shape="rect" target="_blank"></a>rsync -avz -e &quot;ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null&quot; --progress dist/ $USER_HOST:$DIST 
</pre><pre xml:space="preserve"><a name="cl-7" shape="rect" target="_blank"></a>SSH_COMMAND='pm2 stop portal-dniprorada; pm2 delete portal-dniprorada; cd '$DIST'; npm install; pm2 start process.json; pm2 info portal-dniprorada'</pre><pre xml:space="preserve"><a name="cl-8" shape="rect" target="_blank"></a>ssh $USER_HOST $SSH_COMMAND
</pre></div></span>
</div>
<hr>
<a name="2738"/>
<h1>Configuring Tomcat With Eclipse</h1>

<div>
<span><div>1. Создадим проект в eclipse для более удобной работы с сервером Tomcat:</div><div> - <strong>File-&gt;new-&gt; Other-&gt;Server-&gt;Server</strong></div><div> - выбираем Apache -&gt; свою версию tomcat-&gt; указываем директорию установленного локально tomcat и jre-&gt; Finish</div><div>2. Настройки:<br clear="none"/></div><div> - <strong>Window-ShowView-Server-Server</strong></div><div>- Правой кнопкой - Properties - Generel-SwitchLocation-Applay-ok</div><div> - Двойной щелчок по серверу и в открывшемся окне выберем:</div><div>       Use Tomcat Installation</div><div>       Deploy path - путь к папке webapp</div><div>- в разделе <strong>Server Options</strong> отмечаем три первых галочки</div><div>- <strong>open launch configuration</strong> -&gt; Arguments-&gt; Vm arguments-&gt; доставляем системную переменную <strong>-Dspring.profiles.active=&quot;test&quot;</strong></div><div><br clear="none"/></div><div>3. Запуск Tomcata:</div><div> - Правой кнопкой - Start</div><div> - Переходим по ссылке <a href="http://localhost:8080/manager/html" shape="rect" target="_blank">http://localhost:8080/manager/html</a> и деплоим варник проекта</div><div>Для того чтобы заново варник после изменений каких то задеплоить, тушитиь сервер не обязательно, просто в manager нажимаем Undeploy и заново Deploy</div><div><br clear="none"/></div><div>       </div></span>
</div>
<hr>
<a name="2740"/>
<h1>Run wf-region with tomcat7-maven-plugin</h1>

<div>
<span><div><br clear="none"/></div><div>1. Добавить в pom.xml <span>plugin</span>:</div><div>&lt;plugin&gt;<br clear="none"/> &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;<br clear="none"/> &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;<br clear="none"/> &lt;configuration&gt;<br clear="none"/> &lt;port&gt;8080&lt;/port&gt;<br clear="none"/> &lt;path&gt;/wf-region&lt;/path&gt;<br clear="none"/> &lt;systemProperties&gt;<br clear="none"/> &lt;com.sun.management.jmxremote.port&gt;4000&lt;/com.sun.management.jmxremote.port&gt;<br clear="none"/> &lt;spring.profiles.active&gt;test&lt;/spring.profiles.active&gt;<br clear="none"/> &lt;/systemProperties&gt;<br clear="none"/> &lt;/configuration&gt;<br clear="none"/> &lt;/plugin&gt;</div><div><br clear="none"/></div><div>2. Проект собираем командой tomcat7:run </div><div>3. Переходим по урлу http://localhost:8080/wf/</div><div><br clear="none"/></div></span>
</div></body></html> 